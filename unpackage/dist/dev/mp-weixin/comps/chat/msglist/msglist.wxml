<view class="{{[view+' wrap '+(isIPX?'scroll_view_X':'')]}}" scroll-y="true" upper-threshold="-50" scroll-into-view="{{toView}}" data-event-opts="{{[['tap',[['onTap',['$event']]]],['scroll',[['scrollmore',['$event']]]],['scrolltoupper',[['refresh',['$event']]]]]}}" bindtap="__e" bindscroll="__e" bindscrolltoupper="__e"><block wx:for="{{chatMsg}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="message" id="{{item.mid}}"><view class="{{['main',item.style]}}"><view class="user"><text class="user-text">{{item.yourname+' '+item.time}}</text></view><image class="avatar" src="/static/images/theme@2x.png"></image><view class="msg"><image class="{{['err '+(item.style=='self'&&item.isFail?'show':'hide')]}}" src="/static/images/msgerr.png"></image><block wx:if="{{item.style=='self'}}"><image class="msg_poprightarrow" src="/static/images/poprightarrow@2x.png"></image></block><block wx:if="{{item.style==''}}"><image class="msg_popleftarrow" src="/static/images/popleftarrow@2x.png"></image></block><view><block wx:if="{{item.msg.type==='txt'}}"><text class="msg-text" style="float:left;">{{item.msg.data}}</text></block><block wx:if="{{item.msg.type==='emoji'}}"><image class="avatar" style="width:25px;height:25px;margin:0 0 2px 0;float:left;" src="{{'../../../static/images/faces/'+item.data}}"></image></block><block wx:if="{{item.msg.type==='img'}}"><image class="avatar" style="width:90px;height:120px;margin:2px auto;" src="{{item.msg.data}}" mode="aspectFit" data-url="{{item.msg.data}}" data-event-opts="{{[['tap',[['previewImage',['$event']]]]]}}" bindtap="__e"></image></block><block wx:if="{{item.msg.type==='video'}}"><video src="{{item.msg.data}}" controls="{{true}}" autoplay="{{true}}"></video></block><block wx:if="{{item.msg.type=='audio'}}"><audio-msg vue-id="{{'0dc0c396-1-'+index}}" msg="{{item}}" bind:__l="__l"></audio-msg></block></view></view></view></view></block></view>